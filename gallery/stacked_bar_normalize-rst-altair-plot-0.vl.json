{"spec": {"config": {"mark": {"stacked": "normalize"}}, "encoding": {"color": {"type": "nominal", "field": "gender", "scale": {"range": ["#EA98D2", "#659CCA"]}}, "x": {"type": "ordinal", "field": "age", "scale": {"bandSize": 17.0}}, "y": {"axis": {"title": "population"}, "type": "quantitative", "field": "people", "aggregate": "sum"}}, "transform": {"calculate": [{"expr": "datum.sex == 2 ? \"Female\" : \"Male\"", "field": "gender"}], "filter": "datum.year == 2000"}, "$schema": "https://vega.github.io/schema/vega-lite/v1.2.1.json", "data": {"url": "https://vega.github.io/vega-lite/data/population.json"}, "mark": "bar"}, "mode": "vega-lite", "actions": {"export": true, "source": true, "editor": true}}
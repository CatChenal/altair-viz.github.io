{"mode": "vega-lite", "spec": {"encoding": {"color": {"type": "nominal", "field": "gender", "scale": {"range": ["#EA98D2", "#659CCA"]}}, "x": {"type": "ordinal", "field": "age", "scale": {"bandSize": 17.0}}, "y": {"axis": {"title": "population"}, "field": "people", "type": "quantitative", "aggregate": "sum"}}, "transform": {"filter": "datum.year == 2000", "calculate": [{"expr": "datum.sex == 2 ? \"Female\" : \"Male\"", "field": "gender"}]}, "data": {"url": "//vega.github.io/vega-lite/data/population.json"}, "config": {"mark": {"stacked": "normalize"}}, "mark": "bar"}, "actions": {"source": false, "editor": true, "export": false}}
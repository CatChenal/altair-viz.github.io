

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Encodings &mdash; Altair 1.3.0.dev0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/altair-plot.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/altair-gallery.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Altair 1.3.0.dev0 documentation" href="../index.html"/>
        <link rel="up" title="Narrative Documentation" href="index.html"/>
        <link rel="next" title="Marks" href="marks.html"/>
        <link rel="prev" title="Defining Data" href="data.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Altair
          

          
          </a>

          
            
            
              <div class="version">
                1.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Narrative Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="data.html">Defining Data</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Encodings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#channels">Channels</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-types">Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#binning-and-aggregation">Binning and Aggregation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#encoding-shorthands">Encoding Shorthands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="marks.html">Marks</a></li>
<li class="toctree-l2"><a class="reference internal" href="transform.html">Data Transformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Configuring Visualizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="displaying.html">Displaying and Saving Visualizations</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets.html">Altair Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="performance.html">Peformance Considerations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../API.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Example Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../recipes.html">Plot Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Altair</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Narrative Documentation</a> &raquo;</li>
        
      <li>Encodings</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/documentation/encoding.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="encodings">
<span id="encoding-reference"></span><h1>Encodings<a class="headerlink" href="#encodings" title="Permalink to this headline">¶</a></h1>
<p>The key to creating meaningful visualizations is to map <em>properties of the data</em>
to <em>visual properties</em> in order to effectively communicate information.
Altair abstracts this mapping through the idea of <em>channel encodings</em>.
For example, here we will plot the <em>cars</em> dataset using four of the available
channel encodings: <code class="docutils literal"><span class="pre">x</span></code> (the x-axis value), <code class="docutils literal"><span class="pre">y</span></code> (the y-axis value),
<code class="docutils literal"><span class="pre">color</span></code> (the color of the marker), and <code class="docutils literal"><span class="pre">shape</span></code> (the shape of the point marker):</p>
<div class="highlight-python" id="encoding-rst-altair-source-0"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">altair</span> <span class="kn">as</span> <span class="nn">alt</span>

<span class="n">cars</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;cars&#39;</span><span class="p">)</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">cars</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Horsepower&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Miles_per_Gallon&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Origin&#39;</span><span class="p">,</span>
    <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;Origin&#39;</span>
<span class="p">)</span>
</pre></div>
</div>

<div id="encoding-rst-altair-plot-0">
<script>
  // embed when document is loaded, to ensure vega library is available
  // this works on all modern browsers, except IE8 and older
  document.addEventListener("DOMContentLoaded", function(event) {
    vg.embed("#encoding-rst-altair-plot-0", "encoding-rst-altair-plot-0.vl.json", function(error, result) {});
  });
</script>
</div><p>Altair automatically determines the correct datatype from the Data Frame columns,
and creates appropriate scales and legends to represent the data.</p>
<div class="section" id="channels">
<span id="encoding-channels"></span><h2>Channels<a class="headerlink" href="#channels" title="Permalink to this headline">¶</a></h2>
<p>Altair provides a number of encoding channels that can be useful in different
circumstances; the following table summarizes them:</p>
<p><em>TODO: link to examples of each</em></p>
<p>Position Channels:</p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="19%" />
<col width="33%" />
<col width="41%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Channel</th>
<th class="head">Altair Class</th>
<th class="head">Description</th>
<th class="head">Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>column</td>
<td><code class="xref py py-class docutils literal"><span class="pre">Column</span></code></td>
<td>The column of a faceted plot</td>
<td><a class="reference internal" href="../gallery/trellis_stacked_bar.html#gallery-trellis-stacked-bar"><span class="std std-ref">Trellis Stacked Bar Chart</span></a></td>
</tr>
<tr class="row-odd"><td>row</td>
<td><code class="xref py py-class docutils literal"><span class="pre">Row</span></code></td>
<td>The row of a faceted plot</td>
<td><a class="reference internal" href="../gallery/trellis_barley.html#gallery-trellis-barley"><span class="std std-ref">Becker’s Barley Trellis Plot</span></a></td>
</tr>
<tr class="row-even"><td>x</td>
<td><code class="xref py py-class docutils literal"><span class="pre">X</span></code></td>
<td>The x-axis value</td>
<td><a class="reference internal" href="../gallery/scatter.html#gallery-scatter"><span class="std std-ref">Scatterplot</span></a></td>
</tr>
<tr class="row-odd"><td>y</td>
<td><code class="xref py py-class docutils literal"><span class="pre">Y</span></code></td>
<td>The y-axis value</td>
<td><a class="reference internal" href="../gallery/circle.html#gallery-circle"><span class="std std-ref">Scatterplot with Filled Circles</span></a></td>
</tr>
</tbody>
</table>
<p>Channels with Legend:</p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="18%" />
<col width="27%" />
<col width="47%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Channel</th>
<th class="head">Altair Class</th>
<th class="head">Description</th>
<th class="head">Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>color</td>
<td><code class="xref py py-class docutils literal"><span class="pre">Color</span></code></td>
<td>The color of the mark</td>
<td><a class="reference internal" href="../gallery/stacked_area.html#gallery-stacked-area"><span class="std std-ref">Stacked Area Chart</span></a></td>
</tr>
<tr class="row-odd"><td>opacity</td>
<td><code class="xref py py-class docutils literal"><span class="pre">Opacity</span></code></td>
<td>The opacity of the mark</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>shape</td>
<td><code class="xref py py-class docutils literal"><span class="pre">Shape</span></code></td>
<td>The shape of the mark</td>
<td><a class="reference internal" href="../gallery/scatter_colored_with_shape.html#gallery-scatter-colored-with-shape"><span class="std std-ref">Colored Scatterplot</span></a></td>
</tr>
<tr class="row-odd"><td>size</td>
<td><code class="xref py py-class docutils literal"><span class="pre">Size</span></code></td>
<td>The size of the mark</td>
<td><a class="reference internal" href="../gallery/scatter_binned.html#gallery-scatter-binned"><span class="std std-ref">Binned Scatterplot</span></a></td>
</tr>
</tbody>
</table>
<p>Order Channels:</p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="19%" />
<col width="52%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Channel</th>
<th class="head">Altair Class</th>
<th class="head">Description</th>
<th class="head">Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>order</td>
<td><code class="xref py py-class docutils literal"><span class="pre">Order</span></code></td>
<td>–</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>path</td>
<td><code class="xref py py-class docutils literal"><span class="pre">Path</span></code></td>
<td>–</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p>Field Channels:</p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="16%" />
<col width="43%" />
<col width="34%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Channel</th>
<th class="head">Altair Class</th>
<th class="head">Description</th>
<th class="head">Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>text</td>
<td><code class="xref py py-class docutils literal"><span class="pre">Text</span></code></td>
<td>The text to display at each mark</td>
<td><a class="reference internal" href="../gallery/text_scatter_colored.html#gallery-text-scatter-colored"><span class="std std-ref">Colored Text Scatter Plot</span></a></td>
</tr>
<tr class="row-odd"><td>detail</td>
<td><code class="xref py py-class docutils literal"><span class="pre">Detail</span></code></td>
<td>Additional level of detail for a grouping,
without mapping to any particular channel</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>label</td>
<td><code class="xref py py-class docutils literal"><span class="pre">Label</span></code></td>
<td>–</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="data-types">
<span id="id1"></span><h2>Data Types<a class="headerlink" href="#data-types" title="Permalink to this headline">¶</a></h2>
<p>The details of any mapping depend on the <em>type</em> of the data. Altair recognizes
four main data types:</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="19%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Data Type</th>
<th class="head">Shorthand Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>quantitative</td>
<td><code class="docutils literal"><span class="pre">Q</span></code></td>
<td>a continuous real-valued quantity</td>
</tr>
<tr class="row-odd"><td>ordinal</td>
<td><code class="docutils literal"><span class="pre">O</span></code></td>
<td>a discrete ordered quantity</td>
</tr>
<tr class="row-even"><td>nominal</td>
<td><code class="docutils literal"><span class="pre">N</span></code></td>
<td>a discrete unordered category</td>
</tr>
<tr class="row-odd"><td>temporal</td>
<td><code class="docutils literal"><span class="pre">T</span></code></td>
<td>a time or date value</td>
</tr>
</tbody>
</table>
<p>These types can either be expressed in a long-form using the channel encoding
classes such as <code class="xref py py-class docutils literal"><span class="pre">X</span></code> and <code class="xref py py-class docutils literal"><span class="pre">Y</span></code>, or in short-form using the
<a class="reference internal" href="#shorthand-description"><span class="std std-ref">Shorthand Syntax</span></a> discussed below.
For example, the following two means of specifying the type result in identical
plot specifications:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">altair</span> <span class="k">as</span> <span class="nn">alt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chart</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;quantitative&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">chart</span><span class="o">.</span><span class="n">to_json</span><span class="p">())</span>
<span class="go">{&quot;encoding&quot;: {&quot;x&quot;: {&quot;field&quot;: &quot;name&quot;, &quot;type&quot;: &quot;quantitative&quot;}}}</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">chart</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">x</span><span class="o">=</span><span class="s1">&#39;name:Q&#39;</span>
<span class="gp">... </span>        <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">chart</span><span class="o">.</span><span class="n">to_json</span><span class="p">())</span>
<span class="go">{&quot;encoding&quot;: {&quot;x&quot;: {&quot;field&quot;: &quot;name&quot;, &quot;type&quot;: &quot;quantitative&quot;}}}</span>
</pre></div>
</div>
<p>The shorthand form, <code class="docutils literal"><span class="pre">&quot;name:Q&quot;</span></code>, is useful for its lack of boilerplate
when doing quick data explorations. The long-form,
<code class="docutils literal"><span class="pre">X('name',</span> <span class="pre">type='quantitative')</span></code>, is useful when adjusting binning, axis
properties, and other details of the mapping.</p>
<p>Specifying the correct type for your data is important, as it affects the
way Altair represents your encoding in the resulting plot.
As an example of this, here we will represent the same data three different ways,
with the color encoded as a <em>quantitative</em>, <em>ordinal</em>, and <em>nominal</em> type:</p>
<p><em>TODO: use subplots here</em></p>
<div class="highlight-python" id="encoding-rst-altair-source-2"><span id="altair-plot-1"></span><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">cars</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Horsepower:Q&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Miles_per_Gallon:Q&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Cylinders:Q&#39;</span>           <span class="c1"># Encode as quantitative (Q)</span>
<span class="p">)</span>
</pre></div>
</div>

<div id="encoding-rst-altair-plot-2">
<script>
  // embed when document is loaded, to ensure vega library is available
  // this works on all modern browsers, except IE8 and older
  document.addEventListener("DOMContentLoaded", function(event) {
    vg.embed("#encoding-rst-altair-plot-2", "encoding-rst-altair-plot-2.vl.json", function(error, result) {});
  });
</script>
</div><div class="highlight-python" id="encoding-rst-altair-source-3"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">cars</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Horsepower:Q&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Miles_per_Gallon:Q&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Cylinders:O&#39;</span>           <span class="c1"># Encode as ordinal (O)</span>
<span class="p">)</span>
</pre></div>
</div>

<div id="encoding-rst-altair-plot-3">
<script>
  // embed when document is loaded, to ensure vega library is available
  // this works on all modern browsers, except IE8 and older
  document.addEventListener("DOMContentLoaded", function(event) {
    vg.embed("#encoding-rst-altair-plot-3", "encoding-rst-altair-plot-3.vl.json", function(error, result) {});
  });
</script>
</div><div class="highlight-python" id="encoding-rst-altair-source-4"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">cars</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Horsepower:Q&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Miles_per_Gallon:Q&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Cylinders:N&#39;</span>           <span class="c1"># Encode as nominal (N)</span>
<span class="p">)</span>
</pre></div>
</div>

<div id="encoding-rst-altair-plot-4">
<script>
  // embed when document is loaded, to ensure vega library is available
  // this works on all modern browsers, except IE8 and older
  document.addEventListener("DOMContentLoaded", function(event) {
    vg.embed("#encoding-rst-altair-plot-4", "encoding-rst-altair-plot-4.vl.json", function(error, result) {});
  });
</script>
</div><p>The type specification influences the way Altair, via Vega-Lite, chooses
a color scale to represent the value, and influences whether a discrete
or continuous legend is used.</p>
</div>
<div class="section" id="binning-and-aggregation">
<span id="encoding-aggregates"></span><h2>Binning and Aggregation<a class="headerlink" href="#binning-and-aggregation" title="Permalink to this headline">¶</a></h2>
<p>Beyond simple channel encodings, Altair’s visualizations are built on the
concept of the database-style grouping and aggregation; that is, the
<a class="reference external" href="https://www.jstatsoft.org/article/view/v040i01">split-apply-combine</a>
abstraction that underpins many data analyses.</p>
<p>For example, building a histogram from a one-dimensional dataset involves
splitting data based on the bin it falls in, aggregating the results within
each bin using a <em>count</em> of the data, and then combining the results into
a final figure.</p>
<p>In altair, such an operation looks like this:</p>
<div class="highlight-python" id="encoding-rst-altair-source-5"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">altair</span> <span class="kn">as</span> <span class="nn">alt</span>

<span class="n">cars</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;cars&#39;</span><span class="p">)</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">cars</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;Horsepower&#39;</span><span class="p">,</span> <span class="nb">bin</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;count(*):Q&#39;</span>
    <span class="c1"># could also use Y(&#39;*&#39;, aggregate=&#39;count&#39;, type=&#39;quantitative&#39;)</span>
<span class="p">)</span>
</pre></div>
</div>

<div id="encoding-rst-altair-plot-5">
<script>
  // embed when document is loaded, to ensure vega library is available
  // this works on all modern browsers, except IE8 and older
  document.addEventListener("DOMContentLoaded", function(event) {
    vg.embed("#encoding-rst-altair-plot-5", "encoding-rst-altair-plot-5.vl.json", function(error, result) {});
  });
</script>
</div><p>Notice here we use the shorthand version of expressing an encoding channel
(see <a class="reference internal" href="#shorthand-description"><span class="std std-ref">Encoding Shorthands</span></a>) with the <code class="docutils literal"><span class="pre">count</span></code> aggregation,
the special <code class="docutils literal"><span class="pre">*</span></code> wild-card identifier often used with counts,
and <code class="docutils literal"><span class="pre">Q</span></code> for quantitative type.</p>
<p>Similarly, we can create a two-dimensional histogram using, for example, the
size of points to indicate counts within the grid (sometimes called
a “Bubble Plot”):</p>
<div class="highlight-python" id="encoding-rst-altair-source-6"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">altair</span> <span class="kn">as</span> <span class="nn">alt</span>

<span class="n">cars</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;cars&#39;</span><span class="p">)</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">cars</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;Horsepower&#39;</span><span class="p">,</span> <span class="nb">bin</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;Miles_per_Gallon&#39;</span><span class="p">,</span> <span class="nb">bin</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
    <span class="n">size</span><span class="o">=</span><span class="s1">&#39;count(*):Q&#39;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>

<div id="encoding-rst-altair-plot-6">
<script>
  // embed when document is loaded, to ensure vega library is available
  // this works on all modern browsers, except IE8 and older
  document.addEventListener("DOMContentLoaded", function(event) {
    vg.embed("#encoding-rst-altair-plot-6", "encoding-rst-altair-plot-6.vl.json", function(error, result) {});
  });
</script>
</div><p>There is no need, however, to limit aggregations to counts alone. For example,
we could similarly create a plot where the color of each point
represents the mean of a third quantity, such as acceleration:</p>
<div class="highlight-python" id="encoding-rst-altair-source-7"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">altair</span> <span class="kn">as</span> <span class="nn">alt</span>

<span class="n">cars</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;cars&#39;</span><span class="p">)</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">cars</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;Horsepower&#39;</span><span class="p">,</span> <span class="nb">bin</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;Miles_per_Gallon&#39;</span><span class="p">,</span> <span class="nb">bin</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
    <span class="n">size</span><span class="o">=</span><span class="s1">&#39;count(*):Q&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;average(Acceleration):Q&#39;</span>
<span class="p">)</span>
</pre></div>
</div>

<div id="encoding-rst-altair-plot-7">
<script>
  // embed when document is loaded, to ensure vega library is available
  // this works on all modern browsers, except IE8 and older
  document.addEventListener("DOMContentLoaded", function(event) {
    vg.embed("#encoding-rst-altair-plot-7", "encoding-rst-altair-plot-7.vl.json", function(error, result) {});
  });
</script>
</div><p>In addition to <code class="docutils literal"><span class="pre">count</span></code> and <code class="docutils literal"><span class="pre">average</span></code>, there are a large number of available
aggregation functions built into Altair; they are listed in the following table:</p>
<p><em>TODO: fill-in examples</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="49%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Aggregate</th>
<th class="head">Description</th>
<th class="head">Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>sum</td>
<td>Sum of values</td>
<td><a class="reference internal" href="../gallery/bar_aggregate.html#gallery-bar-aggregate"><span class="std std-ref">Aggregate Bar Chart</span></a></td>
</tr>
<tr class="row-odd"><td>mean</td>
<td>Arithmetic mean of values</td>
<td><a class="reference internal" href="../gallery/text_table_heatmap.html#gallery-text-table-heatmap"><span class="std std-ref">Text Table Heatmap</span></a></td>
</tr>
<tr class="row-even"><td>average</td>
<td>Arithmetic mean of values</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>count</td>
<td>Total number of values</td>
<td><a class="reference internal" href="../gallery/scatter_binned.html#gallery-scatter-binned"><span class="std std-ref">Binned Scatterplot</span></a></td>
</tr>
<tr class="row-even"><td>distinct</td>
<td>Number of distinct values</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>variance</td>
<td>Variance of values</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>variancep</td>
<td>??</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>stdev</td>
<td>Standard Deviation of values</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>stdevp</td>
<td>??</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>median</td>
<td>Median of values</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>q1</td>
<td>First quartile of values</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>q3</td>
<td>Third quartile of values</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>modeskew</td>
<td>??</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>min</td>
<td>Minimum value</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>max</td>
<td>Maximum value</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>argmin</td>
<td>Index of minimum value</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>argmax</td>
<td>Index of maximum value</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>values</td>
<td>??</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>valid</td>
<td>??</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>missing</td>
<td>??</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="encoding-shorthands">
<span id="shorthand-description"></span><h2>Encoding Shorthands<a class="headerlink" href="#encoding-shorthands" title="Permalink to this headline">¶</a></h2>
<p>For convenience, Altair allows the specification of the variable name along
with the aggregate and type within a simple shorthand string syntax.
This makes use of the type shorthand codes listed in <a class="reference internal" href="#data-types"><span class="std std-ref">Data Types</span></a>
as well as the aggregate names listed in <a class="reference internal" href="#encoding-aggregates"><span class="std std-ref">Binning and Aggregation</span></a>.
The following table shows examples of the shorthand specification alongside
the long-form equivalent:</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Shorthand</th>
<th class="head">Equivalent long-form</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">x='name'</span></code></td>
<td><code class="docutils literal"><span class="pre">X('name')</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">x='name:Q'</span></code></td>
<td><code class="docutils literal"><span class="pre">X('name',</span> <span class="pre">type='quantitative')</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">x='sum(name)'</span></code></td>
<td><code class="docutils literal"><span class="pre">X('name',</span> <span class="pre">aggregate='sum')</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">x='sum(name):Q'</span></code></td>
<td><code class="docutils literal"><span class="pre">X('name',</span> <span class="pre">aggregate='sum',</span> <span class="pre">type='quantitative')</span></code></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="marks.html" class="btn btn-neutral float-right" title="Marks" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="data.html" class="btn btn-neutral" title="Defining Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Brian Granger and Jake VanderPlas.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.3.0.dev0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://d3js.org/d3.v3.min.js"></script>
      <script type="text/javascript" src="https://vega.github.io/vega/releases/v2.6.5/vega.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vega-lite/1.2.1/vega-lite.min.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vega-embed/2.2.0/vega-embed.min.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>